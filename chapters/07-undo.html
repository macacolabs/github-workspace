<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ch.07 실수 되돌리기 | Git & GitHub 완전 정복</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/components.css">
</head>

<body>
    <div class="layout">
        <aside class="sidebar">
            <a href="../index.html" class="sidebar-logo">
                <div class="logo-icon">🌿</div>
                <div>
                    <div class="logo-text">Git & GitHub</div>
                    <div class="logo-sub">완전 정복 과정</div>
                </div>
            </a>
            <div class="sidebar-section">
                <div class="sidebar-section-title">Part 1 — Git 기초</div>
                <ul class="sidebar-nav">
                    <li><a href="01-git-intro.html" data-chapter="01"><span class="nav-num">01</span> Git이란?<div
                                class="nav-check"></div></a></li>
                    <li><a href="02-setup.html" data-chapter="02"><span class="nav-num">02</span> 환경 세팅<div
                                class="nav-check"></div></a></li>
                    <li><a href="03-git-flow.html" data-chapter="03"><span class="nav-num">03</span> Git 내부 구조<div
                                class="nav-check"></div></a></li>
                    <li><a href="04-first-commit.html" data-chapter="04"><span class="nav-num">04</span> 첫 번째 커밋<div
                                class="nav-check"></div></a></li>
                    <li><a href="05-log-head.html" data-chapter="05"><span class="nav-num">05</span> HEAD & 히스토리<div
                                class="nav-check"></div></a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title">Part 2 — 브랜치</div>
                <ul class="sidebar-nav">
                    <li><a href="06-branch-merge.html" data-chapter="06"><span class="nav-num">06</span> 브랜치 & Merge<div
                                class="nav-check"></div></a></li>
                    <li><a href="07-undo.html" data-chapter="07"><span class="nav-num">07</span> 실수 되돌리기<div
                                class="nav-check"></div></a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-section-title">Part 3 — GitHub</div>
                <ul class="sidebar-nav">
                    <li><a href="08-github-remote.html" data-chapter="08"><span class="nav-num">08</span> GitHub 원격 저장소
                            <div class="nav-check"></div></a></li>
                    <li><a href="09-pull-request.html" data-chapter="09"><span class="nav-num">09</span> Pull Request
                            <div class="nav-check"></div></a></li>
                </ul>
            </div>
            <div class="sidebar-progress">
                <div class="progress-label"><span>전체 진행률</span><span>0/9 완료</span></div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" style="width:0%"></div>
                </div>
            </div>
        </aside>

        <div class="main-content">
            <header class="chapter-header">
                <div class="chapter-header-left">
                    <button class="menu-toggle">☰</button>
                    <span class="chapter-part-badge part-2">Part 2</span>
                    <span class="chapter-progress-text">0 / 9 챕터 완료</span>
                </div>
                <button class="btn-complete" data-chapter="07">⬜ 완료 체크</button>
            </header>

            <article class="chapter-content">
                <div class="chapter-title-wrap">
                    <div class="chapter-num">Chapter 07 · 약 50분</div>
                    <h1 class="chapter-title">실수 되돌리기</h1>
                    <p class="chapter-desc">Git의 가장 강력한 기능 — 잘못된 변경사항을 자신있게 되돌리는 다양한 방법을 배웁니다.</p>
                </div>

                <div class="learning-goals">
                    <div class="learning-goals-title">🎯 이 챕터를 마치면</div>
                    <ul>
                        <li>상황에 따라 적절한 되돌리기 명령어를 선택할 수 있다</li>
                        <li><code>git restore</code>로 워킹 디렉토리 변경사항을 취소할 수 있다</li>
                        <li><code>git reset</code>의 세 가지 모드를 이해하고 사용할 수 있다</li>
                        <li><code>git revert</code>로 안전하게 이전 커밋을 취소할 수 있다</li>
                        <li><code>git stash</code>로 작업을 임시 저장할 수 있다</li>
                    </ul>
                </div>

                <!-- 되돌리기 선택 가이드 -->
                <section class="section">
                    <h2 class="section-title"><span class="section-icon">🗺️</span> 1. 상황별 되돌리기 선택 가이드</h2>

                    <div class="git-diagram">
                        <div class="git-diagram-title">어떤 명령어를 써야 할까?</div>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <div
                                style="display: flex; align-items: flex-start; gap: 12px; background: var(--bg-secondary); border-radius: 8px; padding: 12px; border-left: 3px solid var(--accent);">
                                <div style="font-size: 11px; font-weight: 700; color: var(--accent); min-width: 120px;">
                                    파일 수정취소<br>(add 전)</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">→
                                    <code>git restore 파일명</code></div>
                            </div>
                            <div
                                style="display: flex; align-items: flex-start; gap: 12px; background: var(--bg-secondary); border-radius: 8px; padding: 12px; border-left: 3px solid var(--yellow);">
                                <div style="font-size: 11px; font-weight: 700; color: var(--yellow); min-width: 120px;">
                                    add 취소<br>(staged 해제)</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">→
                                    <code>git restore --staged 파일명</code></div>
                            </div>
                            <div
                                style="display: flex; align-items: flex-start; gap: 12px; background: var(--bg-secondary); border-radius: 8px; padding: 12px; border-left: 3px solid var(--orange, #f0883e);">
                                <div style="font-size: 11px; font-weight: 700; color: #f0883e; min-width: 120px;">커밋
                                    지우기<br>(로컬만)</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">→ <code>git reset</code>
                                    (hard / soft / mixed)</div>
                            </div>
                            <div
                                style="display: flex; align-items: flex-start; gap: 12px; background: var(--bg-secondary); border-radius: 8px; padding: 12px; border-left: 3px solid var(--green);">
                                <div style="font-size: 11px; font-weight: 700; color: var(--green); min-width: 120px;">
                                    커밋 안전 취소<br>(이미 push)</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">→ <code>git revert</code> (새
                                    커밋으로 취소)</div>
                            </div>
                            <div
                                style="display: flex; align-items: flex-start; gap: 12px; background: var(--bg-secondary); border-radius: 8px; padding: 12px; border-left: 3px solid var(--purple);">
                                <div style="font-size: 11px; font-weight: 700; color: var(--purple); min-width: 120px;">
                                    임시 저장<br>(브랜치 이동)</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">→ <code>git stash</code>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- git restore -->
                <section class="section">
                    <h2 class="section-title"><span class="section-icon">↩️</span> 2. git restore — 파일 수정 취소</h2>

                    <div class="code-block terminal">
                        <div class="code-block-header"><span class="code-lang">Git Bash</span></div>
                        <pre><code><span class="comment"># Working Directory 수정 취소 (마지막 커밋 상태로)</span>
<span class="prompt">$</span> git restore index.html

<span class="comment"># Staging Area에서 되돌리기 (unstage)</span>
<span class="prompt">$</span> git restore --staged index.html

<span class="comment"># 모든 파일 수정 취소</span>
<span class="prompt">$</span> git restore .</code></pre>
                    </div>

                    <div class="alert danger">
                        <span class="alert-icon">🚨</span>
                        <p><code>git restore</code>로 Working Directory 변경사항을 취소하면 <strong>복구 불가능</strong>합니다. 신중하게
                            사용하세요!</p>
                    </div>
                </section>

                <!-- git reset -->
                <section class="section">
                    <h2 class="section-title"><span class="section-icon">⏪</span> 3. git reset — 커밋 되돌리기</h2>

                    <p><code>git reset</code>은 HEAD 포인터를 특정 커밋으로 이동시킵니다. 3가지 모드가 있습니다.</p>

                    <div class="git-diagram">
                        <div class="git-diagram-title">reset 세 가지 모드 비교</div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                            <div
                                style="background: var(--red-dim); border: 1.5px solid var(--red); border-radius: 10px; padding: 16px; text-align: center;">
                                <div style="font-size: 22px; margin-bottom: 6px;">💥</div>
                                <div style="font-size: 13px; font-weight: 700; color: var(--red); margin-bottom: 8px;">
                                    --hard</div>
                                <div
                                    style="font-size: 11px; color: var(--text-secondary); text-align: left; display: flex; flex-direction: column; gap: 3px;">
                                    <div>× 커밋 삭제</div>
                                    <div>× 스테이징 초기화</div>
                                    <div>× 파일 변경사항 삭제</div>
                                    <div style="margin-top: 6px; color: var(--text-muted);">⚠️ 가장 위험</div>
                                </div>
                            </div>
                            <div
                                style="background: var(--yellow-dim); border: 1.5px solid var(--yellow); border-radius: 10px; padding: 16px; text-align: center;">
                                <div style="font-size: 22px; margin-bottom: 6px;">🔧</div>
                                <div
                                    style="font-size: 13px; font-weight: 700; color: var(--yellow); margin-bottom: 8px;">
                                    --mixed (기본)</div>
                                <div
                                    style="font-size: 11px; color: var(--text-secondary); text-align: left; display: flex; flex-direction: column; gap: 3px;">
                                    <div>× 커밋 삭제</div>
                                    <div>× 스테이징 초기화</div>
                                    <div>✅ 파일은 유지</div>
                                    <div style="margin-top: 6px; color: var(--text-muted);">👍 적당히 안전</div>
                                </div>
                            </div>
                            <div
                                style="background: var(--green-dim); border: 1.5px solid var(--green); border-radius: 10px; padding: 16px; text-align: center;">
                                <div style="font-size: 22px; margin-bottom: 6px;">💚</div>
                                <div
                                    style="font-size: 13px; font-weight: 700; color: var(--green); margin-bottom: 8px;">
                                    --soft</div>
                                <div
                                    style="font-size: 11px; color: var(--text-secondary); text-align: left; display: flex; flex-direction: column; gap: 3px;">
                                    <div>× 커밋 삭제</div>
                                    <div>✅ 스테이징 유지</div>
                                    <div>✅ 파일 유지</div>
                                    <div style="margin-top: 6px; color: var(--text-muted);">✨ 가장 안전</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="code-block terminal">
                        <div class="code-block-header"><span class="code-lang">Git Bash</span></div>
                        <pre><code><span class="comment"># 1단계 이전으로 되돌리기 (파일은 유지)</span>
<span class="prompt">$</span> git reset HEAD~1
<span class="comment"># 또는 --mixed 명시</span>
<span class="prompt">$</span> git reset --mixed HEAD~1

<span class="comment"># 커밋 + 스테이징 + 파일 모두 되돌리기 (주의!)</span>
<span class="prompt">$</span> git reset --hard HEAD~1

<span class="comment"># 커밋만 취소, 스테이징은 유지 (재커밋 목적)</span>
<span class="prompt">$</span> git reset --soft HEAD~1</code></pre>
                    </div>
                </section>

                <!-- git revert -->
                <section class="section">
                    <h2 class="section-title"><span class="section-icon">🔄</span> 4. git revert — 안전한 취소</h2>

                    <p><strong>이미 GitHub에 push한 커밋은 절대 reset하지 마세요!</strong> 대신 <code>git revert</code>를 사용합니다.</p>

                    <div class="git-diagram">
                        <div class="git-diagram-title">reset vs revert 차이</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                            <div>
                                <div style="font-size: 12px; font-weight: 700; color: var(--red); margin-bottom: 8px;">
                                    ⚠️ reset — 히스토리 삭제</div>
                                <div
                                    style="font-family: var(--font-code); font-size: 11px; display: flex; flex-direction: column; gap: 4px;">
                                    <div><span style="color: var(--text-secondary);">● c1</span></div>
                                    <div><span style="color: var(--text-secondary);">● c2</span></div>
                                    <div style="color: var(--red);">✕ c3 ← 삭제됨!</div>
                                </div>
                                <div style="font-size: 11px; color: var(--text-muted); margin-top: 6px;">역사 자체를
                                    지워버림<br>이미 push 했다면 위험</div>
                            </div>
                            <div>
                                <div
                                    style="font-size: 12px; font-weight: 700; color: var(--green); margin-bottom: 8px;">
                                    ✅ revert — 새 커밋으로 취소</div>
                                <div
                                    style="font-family: var(--font-code); font-size: 11px; display: flex; flex-direction: column; gap: 4px;">
                                    <div><span style="color: var(--text-secondary);">● c1</span></div>
                                    <div><span style="color: var(--text-secondary);">● c2</span></div>
                                    <div><span style="color: var(--text-secondary);">● c3</span></div>
                                    <div style="color: var(--green);">● c4 "revert c3" ← 새로 추가</div>
                                </div>
                                <div style="font-size: 11px; color: var(--text-muted); margin-top: 6px;">히스토리 보존<br>push
                                    후에도 안전</div>
                            </div>
                        </div>
                    </div>

                    <div class="code-block terminal">
                        <div class="code-block-header"><span class="code-lang">Git Bash</span></div>
                        <pre><code><span class="comment"># 특정 커밋 취소 (새 commit 생성)</span>
<span class="prompt">$</span> git revert abc1234
<span class="output">Revert "feat: 로그인 기능 추가"
This reverts commit abc1234...</span>

<span class="comment"># 가장 최근 커밋 취소</span>
<span class="prompt">$</span> git revert HEAD</code></pre>
                    </div>
                </section>

                <!-- git stash -->
                <section class="section">
                    <h2 class="section-title"><span class="section-icon">🗄️</span> 5. git stash — 임시 저장</h2>

                    <p>작업 중인데 급하게 다른 브랜치로 이동해야 할 때, 커밋하기는 애매하고 변경사항을 잃고 싶지 않을 때 사용합니다.</p>

                    <div class="git-diagram">
                        <div class="git-diagram-title">stash 동작 방식</div>
                        <div
                            style="display: flex; align-items: center; gap: 16px; flex-wrap: wrap; justify-content: center;">
                            <div
                                style="background: var(--bg-card); border: 1px solid var(--border); border-radius: 8px; padding: 14px; text-align: center; min-width: 110px;">
                                <div style="font-size: 18px;">📁</div>
                                <div style="font-size: 12px; font-weight: 600; margin: 4px 0;">Working Dir</div>
                                <div style="font-size: 11px; color: var(--yellow);">수정 중인 파일</div>
                            </div>
                            <div style="text-align: center; font-size: 11px;">
                                <div style="color: var(--accent); font-family: var(--font-code);">git stash</div>
                                <div style="font-size: 18px; color: var(--text-muted);">→</div>
                            </div>
                            <div
                                style="background: var(--purple-dim); border: 1.5px solid var(--purple); border-radius: 8px; padding: 14px; text-align: center; min-width: 110px;">
                                <div style="font-size: 18px;">📦</div>
                                <div style="font-size: 12px; font-weight: 600; margin: 4px 0; color: var(--purple);">
                                    Stash Stack</div>
                                <div style="font-size: 11px; color: var(--text-muted);">임시 보관함</div>
                            </div>
                            <div style="text-align: center; font-size: 11px;">
                                <div style="color: var(--green); font-family: var(--font-code);">git stash pop</div>
                                <div style="font-size: 18px; color: var(--text-muted);">→</div>
                            </div>
                            <div
                                style="background: var(--bg-card); border: 1px solid var(--border); border-radius: 8px; padding: 14px; text-align: center; min-width: 110px;">
                                <div style="font-size: 18px;">📁</div>
                                <div style="font-size: 12px; font-weight: 600; margin: 4px 0;">Working Dir</div>
                                <div style="font-size: 11px; color: var(--green);">복원됨!</div>
                            </div>
                        </div>
                    </div>

                    <div class="code-block terminal">
                        <div class="code-block-header"><span class="code-lang">Git Bash</span></div>
                        <pre><code><span class="comment"># 현재 변경사항 임시 저장</span>
<span class="prompt">$</span> git stash
<span class="output">Saved working directory and index state WIP on main: abc1234</span>

<span class="comment"># 저장된 stash 목록 확인</span>
<span class="prompt">$</span> git stash list
<span class="output">stash@{0}: WIP on main: abc1234 feat: 기능A 개발 중
stash@{1}: WIP on main: 9bc3d2a 이전 작업</span>

<span class="comment"># 가장 최근 stash 복원 + 목록에서 제거</span>
<span class="prompt">$</span> git stash pop

<span class="comment"># stash 내용 확인 (삭제 없이)</span>
<span class="prompt">$</span> git stash apply stash@{0}</code></pre>
                    </div>
                </section>

                <div class="quiz-section">
                    <div class="quiz-title">✅ 이해도 체크</div>
                    <div class="quiz-item">
                        <div class="quiz-checkbox"></div>
                        <div class="quiz-text">파일을 수정했지만 커밋 전이라면 어떤 명령어로 되돌리나?</div>
                    </div>
                    <div class="quiz-item">
                        <div class="quiz-checkbox"></div>
                        <div class="quiz-text">reset --hard, --mixed, --soft의 차이를 설명할 수 있다</div>
                    </div>
                    <div class="quiz-item">
                        <div class="quiz-checkbox"></div>
                        <div class="quiz-text">push 후에는 reset 대신 revert를 써야 하는 이유를 안다</div>
                    </div>
                    <div class="quiz-item">
                        <div class="quiz-checkbox"></div>
                        <div class="quiz-text">stash로 작업을 임시 저장하고 복원하는 방법을 안다</div>
                    </div>
                </div>

                <div class="cheatsheet" style="margin-top: 24px;">
                    <div class="cheatsheet-header">📌 이 챕터 명령어</div>
                    <div class="cheatsheet-row"><code class="cheat-cmd">git restore 파일명</code>
                        <div class="cheat-desc">파일 수정 취소 (add 전)</div>
                    </div>
                    <div class="cheatsheet-row"><code class="cheat-cmd">git restore --staged 파일명</code>
                        <div class="cheat-desc">Staging Area에서 되돌리기</div>
                    </div>
                    <div class="cheatsheet-row"><code class="cheat-cmd">git reset --soft HEAD~N</code>
                        <div class="cheat-desc">N개 커밋 취소 (파일/스테이징 유지)</div>
                    </div>
                    <div class="cheatsheet-row"><code class="cheat-cmd">git reset --hard HEAD~N</code>
                        <div class="cheat-desc">N개 커밋 + 파일 모두 취소 (위험)</div>
                    </div>
                    <div class="cheatsheet-row"><code class="cheat-cmd">git revert HEAD</code>
                        <div class="cheat-desc">최근 커밋을 새 커밋으로 취소</div>
                    </div>
                    <div class="cheatsheet-row"><code class="cheat-cmd">git stash / git stash pop</code>
                        <div class="cheat-desc">변경사항 임시 저장 / 복원</div>
                    </div>
                </div>

                <div class="chapter-nav">
                    <a href="06-branch-merge.html" class="nav-btn">← Ch.06 브랜치 & Merge</a>
                    <a href="08-github-remote.html" class="nav-btn next">Ch.08 GitHub 원격 저장소 →</a>
                </div>
            </article>
        </div>
    </div>
    <script src="../js/main.js"></script>
</body>

</html>